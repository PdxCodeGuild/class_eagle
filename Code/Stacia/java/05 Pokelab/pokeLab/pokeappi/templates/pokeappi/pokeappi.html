<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title></title>
  <style>
    .body {
      height: 100%;
      width: 100%;
      

    }

    .col {}

    .row {}

    .pokemonCard {
      height: 35%;
      width: 25%;
      background-color: pink;
    }

    .cardTitle {}

    .cardMain {
      background-color: white;
      height: 40%;


    }

    .cardData {}

    .slider {
      display: flex;
      flex-direction: column;
      max-width: 20%;
      padding-top: 20px;
      border: 3px solid black;
      justify-content: center;
      align-items: center;
      box-shadow: 10px 10px 5px grey;
    }

    .pokebutton{
      margin: 1px;
      box-shadow: 10px 10px 5px grey;
      padding-top: 1 px;
     
      margin: 1px;
     height:3rem;
     width: 90%;
     border: 2px solid black;
    }
  </style>
</head>

<body>
  <div id="app">
    <div class=" slider">
      <!-- up slider -->
      <button class ="pokebutton" v-on:click="chooseYou"  v-for="(pokemon ,index) in pokedex">[[pokemon.name]]</button>

    </div>
    <!-- {% if checkmon != "none" %} -->
<div class="pokemonCard" v-for="selectedMon">

  <div class="cardTitle">
   
    [[pokemon.number]][[pokemon.name]]
  </div>
</div>
    
  </div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
      let app = new Vue({
        // query selector of the html element representing the app
        el: '#app',
        delimiters: ['[[', ']]'],

        // app data
        // data stored with the app
        // for displaying in the page: {{message}}
        // for getting input from the user: v-model="message"
        // for modifying in methods: this.message
        data: {
          message: 'Got to Catch Em all!',
          pokedex: [],
          pokemonFacts: [],
          Pokepal: {},
          search: "",
          pokemom: {},
          selectedMon:{},
          checkmon= false,
        },
        // app methods
        // can be called from events in the page: v-on:click="method"
        // can be called from other methods: this.method()
        // can be called from outside the app: app.method()
        methods: {
          sayHello: function () {
            console.log(this.message)
          },

          chooseYou:function (pokemon){
            this.selectedMon = pokemon
          },



          cacheEmAll: function () {
            axios({
              method: 'get',
              url: '{% url "pokeappi:pokeappi" %}',
              params: {
              }
            }).then(response => {
              // console.log(response.data)
              this.pokedex  = response.data.poke_data
              
              // console.log(this.pokedex)
              // for (let i = 0; i < this.pokedex.length; i++) {
              //   this.pokedex[i].types = this.pokedex[i].types.join(' ')
              // }
            })
          },
          pokeFacts: function (index) {
            this.pokemon = {
              number: this.pokedex[index].number,
              name: this.pokedex[index].name,
              height: this.pokedex[index].height,
              weight: this.pokedex[index].weight,
              image_front: this.pokedex[index].image_front,
              image_back: this.pokedex[index].image_back,
              types: this.pokedex[index].types
            }

          },

          twirl: function () {
            // if front shows
            // 
            // if back shows

          },

        },
        // created - a lifecycle hook
        // called when the app is created
        // useful for setting up app data
        created: function () {
          this.cacheEmAll()
          console.log(this.message)
        }
      })
    </script>
    
</body>

</html>